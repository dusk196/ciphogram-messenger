<div class="home full-viewport flex-center">
    <header class="flex-center">
        <h1>SAUF MESSENGER</h1>
        <h2>Safe & Secure, Anonymous, Untrackable and Fast Messenger</h2>
    </header>
    <main>
        <div class="container">
            <div class="alias-container">
                <input class="alias" type="text" placeholder="Your Alias (required)" [(ngModel)]="userDetails.name"
                    maxlength=30 [disabled]="isLoading" />
                <button type="button" class="action-btns" (click)="generateAlias()"
                    [disabled]="isLoading">Random</button>
            </div>
            <div class="inner-container">
                <div class="left-container">
                    <div class="new-room">
                        <span>New Room ID:</span>
                        <div class="new-room-input">
                            <button type="button" class="refresh-id tooltip" (click)="refreshId()"
                                [disabled]="isLoading">
                                <span class="d-none">generate new Room ID</span>
                                <span class="tooltip-text">Get a new one</span>
                            </button>
                            <input title="Room ID" type="text" readonly [value]="userDetails.associatedRoomId"
                                [disabled]="isLoading" />
                            <button type="button" class="copy tooltip" (click)="onCopy()"
                                (mouseenter)="copyText = 'COPY';">
                                <span class="d-none">copy new room id</span>
                                <span class="tooltip-text" [innerText]="copyText"></span>
                            </button>
                        </div>
                    </div>
                    <button class="action-btns" type="button" [ngClass]="{'d-none': isLoading}"
                        [disabled]="userDetails.name.length === 0" (click)="jumpToRoom()" [disabled]="isLoading">
                        Get Started
                    </button>
                    <span *ngIf="isLoading">Connecting...</span>
                </div>
                <div class=" seperator">
                </div>
                <div class="right-container">
                    <span>Already have a Room ID? Join now:</span>
                    <input type="text" maxlength=36 placeholder="Paste a valid Room ID" [(ngModel)]="userRoomId"
                        (ngModelChange)="checkRoomId()" [disabled]="isLoading" />
                    <button class="action-btns" type="button" (click)="jumpToRoomId()" [ngClass]="{'d-none': isLoading}"
                        [disabled]="userDetails.name.length === 0 || !isValidUserRoomId || isLoading">
                        Join
                    </button>
                    <span *ngIf="isLoading">Connecting...</span>
                </div>
            </div>
        </div>
    </main>
    <footer>
        Made with ‚ù§Ô∏è by Sayantan Roy. Source code:
        <a href="https://github.com/dusk196/sauf-messenger" target="_blank">GitHub</a>
    </footer>
</div>
<div class="modal" [ngClass]="{'show': showModal}">
    <div class="modal-content">
        <div class="modal-header">
            <button type="button" (click)="closeModal()">&times;</button>
        </div>
        <div class="modal-body">
            <p>Oh-no! üò±</p>
            <p>We are facing some difficulties while connecting you to the server. üòí Please try again.</p>
        </div>
        <div class="modal-footer">
            <button type="button" (click)="closeModal()">Got it!</button>
        </div>
    </div>

</div>